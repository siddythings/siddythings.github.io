<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Flask Database with Flask-SQLAlchemy | Ep. 10 | siddythings</title>
<meta name=keywords content="python,Flask,web development"><meta name=description content="Connect Flask to a Database with Flask-SQLAlchemy"><meta name=author content="Sidhart"><link rel=canonical href=http://localhost:1313/blogs/flask-database-config/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.0c4fd3725171366f335155acde6fb3c7b7042cd2fd075bebf5023d9b28a701b2.css integrity="sha256-DE/TclFxNm8zUVWs3m+zx7cELNL9B1vr9QI9myinAbI=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/blogs/flask-database-config/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Flask Database with Flask-SQLAlchemy  | Ep. 10"><meta property="og:description" content="Connect Flask to a Database with Flask-SQLAlchemy"><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/blogs/flask-database-config/"><meta property="og:image" content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="blogs"><meta property="og:site_name" content="siddythings"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Flask Database with Flask-SQLAlchemy  | Ep. 10"><meta name=twitter:description content="Connect Flask to a Database with Flask-SQLAlchemy"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"http://localhost:1313/blogs/"},{"@type":"ListItem","position":2,"name":"Flask Database with Flask-SQLAlchemy  | Ep. 10","item":"http://localhost:1313/blogs/flask-database-config/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Flask Database with Flask-SQLAlchemy  | Ep. 10","name":"Flask Database with Flask-SQLAlchemy  | Ep. 10","description":"Connect Flask to a Database with Flask-SQLAlchemy","keywords":["python","Flask","web development"],"articleBody":"Hello,\nIn this segment, we are going to look at how to interact with the database in the flask.\nBTW Flask can easily bond with many databases. So, you can choose your own But in this segment, we are using Flask-SQLAlchemy as our database.\nLots of trash talks lets get started.\nInstalling the Flask-SQLAlchemy $ pip install -U Flask-SQLAlchemy\npip list Package Version ---------------- ----------- click 7.1.2 config 0.5.0.post0 Flask 1.1.2 Flask-SQLAlchemy 2.4.4 itsdangerous 1.1.0 Jinja2 2.11.2 MarkupSafe 1.1.1 pip 9.0.1 pkg-resources 0.0.0 setuptools 39.0.1 SQLAlchemy 1.3.19 Werkzeug 1.0.1 Configuring Flask-SQLAlchemy For Your Application There are a few configuration variables we need to set up before interacting with our database.\nOpen config.py\n/config.py\nfrom os import environ, path from dotenv import load_dotenv import os basedir = path.abspath(path.dirname(__file__)) load_dotenv(path.join(basedir, '.env')) class Config(object): \"\"\"Base config.\"\"\" SECRET_KEY = \"qeqwrwe1231weerw\" STATIC_FOLDER = 'static' TEMPLATES_FOLDER = 'templates' SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\ 'sqlite:///' + os.path.join(basedir, 'database.db') SQLALCHEMY_TRACK_MODIFICATIONS = False DEBUG = True class Production(Config): FLASK_ENV = 'production' DEBUG = False TESTING = False class Development(Config): FLASK_ENV = 'development' DEBUG = True TESTING = True There are a few variables here which are specific to Flask-SQLAlchemy:\nSQLALCHEMY_DATABASE_URI: the connection string we need to connect to our database. SQLALCHEMY_TRACK_MODIFICATIONS: I just always set this to False. At this movement, we haven’t created our database file Create a file database.db in you folder\n. ├── /application ├── /env ├── config.py ├── database.db ├── requirements.txt └── wsgi.py Initiating Flask-SQLAlchemy In this, we are using the Flask Application Factory method for initiating our app.\nFirst of all, we need to import SQLAlchemy\nfrom flask_sqlalchemy import SQLAlchemy\nand now we need to create an SQLAlchemy to an object so we can use our database\ndb = SQLAlchemy()\nOpen __init__.py /application/__init__.py\nfrom flask import Flask from flask_sqlalchemy import SQLAlchemy app = Flask(__name__) db = SQLAlchemy() def create_app(): if app.config[\"ENV\"] == \"production\": app.config.from_object(\"config.Production\") else: app.config.from_object(\"config.Development\") db.init_app(app) with app.app_context(): from application import views from application import admin_views db.create_all() # Create sql tables for our data models return app You have noticed create_app()\nHaving wrapped the app object inside of the create_app function, we still need a way to access it other than calling the function itself.\nNow we need to import the create_app function\nOpen wsgi.py from application import create_app app = create_app() if __name__ == '__main__': app.run() Creating Database Models Create a models.py file in our application directory. import the db object that we created in __init__.py\n. ├── /application │ ├── static │ ├── templates │ ├── __init__.py │ ├── adminviews.py │ ├── models.py │ └── views.py ├── /env ├── config.py ├── database.db ├── requirements.txt └── wsgi.py open model.py from . import db class Todos(db.Model): __tablename__ = 'todos' id = db.Column( db.Integer, primary_key=True ) todo = db.Column( db.String(64), index=False, unique=True, nullable=False ) def __repr__(self): return '","wordCount":"590","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Sidhart"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/blogs/flask-database-config/"},"publisher":{"@type":"Organization","name":"siddythings","logo":{"@type":"ImageObject","url":"http://localhost:1313/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="siddythings (Alt + H)"><img src=http://localhost:1313/avatartion_huab6c5fec9f4bfadb16d15df5a7fa7d1e_46872_0x35_resize_box_3.png alt aria-label=logo height=35>siddythings</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=http://localhost:1313/blogs/ title=blogs><span>blogs</span></a></li><li><a href=http://localhost:1313/ai-agents/ title=ai-agents><span>ai-agents</span></a></li><li><a href=http://localhost:1313/projects/ title=projects><span>projects</span></a></li><li><a href=http://localhost:1313/about/ title=about><span>about</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/blogs/>Blogs</a></div><h1 class=post-title>Flask Database with Flask-SQLAlchemy | Ep. 10</h1><div class=post-description>Connect Flask to a Database with Flask-SQLAlchemy</div><div class=post-meta>3 min&nbsp;·&nbsp;590 words&nbsp;·&nbsp;Sidhart</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><ul><li><a href=#installing-the-flask-sqlalchemy>Installing the Flask-SQLAlchemy</a></li><li><a href=#configuring-flask-sqlalchemy-for-your-application>Configuring Flask-SQLAlchemy For Your Application</a></li><li><a href=#initiating-flask-sqlalchemy>Initiating Flask-SQLAlchemy</a></li><li><a href=#creating-our-first-todo>Creating Our First Todo</a></li><li><a href=#wrapping-up>Wrapping up</a></li></ul></li></ul></nav></div></details></div><div class=post-content><p>Hello,</p><p>In this segment, we are going to look at how to interact with the database in the flask.</p><p>BTW Flask can easily bond with many databases. So, you can choose your own
But in this segment, we are using <code>Flask-SQLAlchemy</code> as our database.</p><p>Lots of trash talks lets get started.</p><h3 id=installing-the-flask-sqlalchemy>Installing the Flask-SQLAlchemy<a hidden class=anchor aria-hidden=true href=#installing-the-flask-sqlalchemy>#</a></h3><p><code>$ pip install -U Flask-SQLAlchemy</code></p><p><code>pip list</code></p><pre tabindex=0><code>Package          Version    
---------------- -----------
click            7.1.2      
config           0.5.0.post0
Flask            1.1.2      
Flask-SQLAlchemy 2.4.4      
itsdangerous     1.1.0      
Jinja2           2.11.2     
MarkupSafe       1.1.1      
pip              9.0.1      
pkg-resources    0.0.0      
setuptools       39.0.1     
SQLAlchemy       1.3.19     
Werkzeug         1.0.1      
</code></pre><h3 id=configuring-flask-sqlalchemy-for-your-application>Configuring Flask-SQLAlchemy For Your Application<a hidden class=anchor aria-hidden=true href=#configuring-flask-sqlalchemy-for-your-application>#</a></h3><p>There are a few <code>configuration variables</code> we need to set up before interacting with our database.</p><p>Open <code>config.py</code></p><p><code>&lt;root>/config.py</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>os</span> <span class=kn>import</span> <span class=n>environ</span><span class=p>,</span> <span class=n>path</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>dotenv</span> <span class=kn>import</span> <span class=n>load_dotenv</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=n>basedir</span> <span class=o>=</span> <span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>load_dotenv</span><span class=p>(</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>basedir</span><span class=p>,</span> <span class=s1>&#39;.env&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Config</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Base config.&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>SECRET_KEY</span> <span class=o>=</span> <span class=s2>&#34;qeqwrwe1231weerw&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>STATIC_FOLDER</span> <span class=o>=</span> <span class=s1>&#39;static&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>TEMPLATES_FOLDER</span> <span class=o>=</span> <span class=s1>&#39;templates&#39;</span>
</span></span><span class=line><span class=cl><span class=n>SQLALCHEMY_DATABASE_URI</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;DATABASE_URL&#39;</span><span class=p>)</span> <span class=ow>or</span> \
</span></span><span class=line><span class=cl>        <span class=s1>&#39;sqlite:///&#39;</span> <span class=o>+</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>basedir</span><span class=p>,</span> <span class=s1>&#39;database.db&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>SQLALCHEMY_TRACK_MODIFICATIONS</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>    <span class=n>DEBUG</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Production</span><span class=p>(</span><span class=n>Config</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>FLASK_ENV</span> <span class=o>=</span> <span class=s1>&#39;production&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>DEBUG</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>    <span class=n>TESTING</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>   
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Development</span><span class=p>(</span><span class=n>Config</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>FLASK_ENV</span> <span class=o>=</span> <span class=s1>&#39;development&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>DEBUG</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>    <span class=n>TESTING</span> <span class=o>=</span> <span class=kc>True</span>
</span></span></code></pre></div><p>There are a few variables here which are specific to <code>Flask-SQLAlchemy</code>:</p><ul><li><code>SQLALCHEMY_DATABASE_URI</code>: the connection string we need to connect to our database.</li><li><code>SQLALCHEMY_TRACK_MODIFICATIONS</code>: I just always set this to False.</li></ul><p>At this movement, we haven&rsquo;t created our database file
Create a file database.db in you <code>&lt;root></code> folder</p><pre tabindex=0><code>.
├── /application
├── /env
├── config.py
├── database.db
├── requirements.txt
└── wsgi.py
</code></pre><h3 id=initiating-flask-sqlalchemy>Initiating Flask-SQLAlchemy<a hidden class=anchor aria-hidden=true href=#initiating-flask-sqlalchemy>#</a></h3><p>In this, we are using the <code>Flask Application Factory</code> method for initiating our app.</p><p>First of all, we need to <code>import SQLAlchemy</code></p><p><code>from flask_sqlalchemy import SQLAlchemy</code></p><p>and now we need to create an SQLAlchemy to an object so we can use our database</p><p><code>db = SQLAlchemy()</code></p><p>Open <code>__init__.py</code>
<code>&lt;root>/application/__init__.py</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>flask_sqlalchemy</span> <span class=kn>import</span> <span class=n>SQLAlchemy</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>db</span> <span class=o>=</span> <span class=n>SQLAlchemy</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>create_app</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>app</span><span class=o>.</span><span class=n>config</span><span class=p>[</span><span class=s2>&#34;ENV&#34;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&#34;production&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>app</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>from_object</span><span class=p>(</span><span class=s2>&#34;config.Production&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>app</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>from_object</span><span class=p>(</span><span class=s2>&#34;config.Development&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>db</span><span class=o>.</span><span class=n>init_app</span><span class=p>(</span><span class=n>app</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=n>app</span><span class=o>.</span><span class=n>app_context</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=kn>from</span> <span class=nn>application</span> <span class=kn>import</span> <span class=n>views</span>
</span></span><span class=line><span class=cl>        <span class=kn>from</span> <span class=nn>application</span> <span class=kn>import</span> <span class=n>admin_views</span>
</span></span><span class=line><span class=cl>        <span class=n>db</span><span class=o>.</span><span class=n>create_all</span><span class=p>()</span>  <span class=c1># Create sql tables for our data models</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>app</span>
</span></span></code></pre></div><p>You have noticed <code>create_app()</code></p><p>Having wrapped the app object inside of the create_app function, we still need a way to access it other than calling the function itself.</p><p>Now we need to import the create_app function</p><p>Open <code>wsgi.py</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>application</span> <span class=kn>import</span> <span class=n>create_app</span> 
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>create_app</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>()</span>
</span></span></code></pre></div><p>Creating Database Models
Create a models.py file in our application directory.
<code>import</code> the <code>db</code> object that we created in<code> __init__.py</code></p><pre tabindex=0><code>.
├── /application
│   ├── static
│   ├── templates
│   ├── __init__.py
│   ├── adminviews.py
│   ├── models.py
│   └── views.py
├── /env
├── config.py
├── database.db
├── requirements.txt
└── wsgi.py
</code></pre><p>open <code>model.py</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>.</span> <span class=kn>import</span> <span class=n>db</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Todos</span><span class=p>(</span><span class=n>db</span><span class=o>.</span><span class=n>Model</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>__tablename__</span> <span class=o>=</span> <span class=s1>&#39;todos&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>Column</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>db</span><span class=o>.</span><span class=n>Integer</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>primary_key</span><span class=o>=</span><span class=kc>True</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>todo</span> <span class=o>=</span> <span class=n>db</span><span class=o>.</span><span class=n>Column</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>db</span><span class=o>.</span><span class=n>String</span><span class=p>(</span><span class=mi>64</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=n>index</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>unique</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>nullable</span><span class=o>=</span><span class=kc>False</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s1>&#39;&lt;Todo </span><span class=si>{}</span><span class=s1>&gt;&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>todo</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=creating-our-first-todo>Creating Our First Todo<a hidden class=anchor aria-hidden=true href=#creating-our-first-todo>#</a></h3><p>Let&rsquo;s create new routes in our <code>views.py</code>
Firstly import models and db object</p><p><code>from .models import db, Todos</code></p><p>And add a route to add tasks in the database</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/todo/&lt;task&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>todos</span><span class=p>(</span><span class=n>task</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>new_todo</span> <span class=o>=</span> <span class=n>Todos</span><span class=p>(</span><span class=n>todo</span> <span class=o>=</span> <span class=n>task</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=n>db</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>new_todo</span><span class=p>)</span>  <span class=c1># Adds new Todo record to database</span>
</span></span><span class=line><span class=cl>  <span class=n>db</span><span class=o>.</span><span class=n>session</span><span class=o>.</span><span class=n>commit</span><span class=p>()</span>  <span class=c1># Commits all changes</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s2>&#34;&lt;h1&gt; You have successfully created your task : &#34;</span><span class=o>+</span><span class=n>task</span><span class=o>+</span><span class=s2>&#34;&lt;/h1&gt;&#34;</span>
</span></span></code></pre></div><p>Save everything and start your application</p><p>And run application</p><p><code>flask run</code></p><p>Done!!</p><p>Hit: <a href=http://127.0.0.1:5000/todo/siddythings>http://127.0.0.1:5000/todo/siddythings</a></p><h3 id=wrapping-up>Wrapping up<a hidden class=anchor aria-hidden=true href=#wrapping-up>#</a></h3><p>In this segment we have learn about seting up the database.</p><p>Try to do some project by yourself.</p><p>In the upcoming segment we are learing about showing querying the records.</p><h5 id=if-you-stuck-someware-checkout-my-code>If you stuck someware checkout my code<a hidden class=anchor aria-hidden=true href=#if-you-stuck-someware-checkout-my-code>#</a></h5><p><a href=https://github.com/Apex1000/flask-blog>Github</a></p><h5 id=still-need-any-help-just-dm>Still need any help! Just DM<a hidden class=anchor aria-hidden=true href=#still-need-any-help-just-dm>#</a></h5><p><a href=https://www.instagram.com/siddythings/>Instagarm</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/python/>Python</a></li><li><a href=http://localhost:1313/tags/flask/>Flask</a></li><li><a href=http://localhost:1313/tags/web-development/>Web Development</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/blogs/flask-database-query/><span class=title>« Prev</span><br><span>Flask Database Query | Ep. 11</span>
</a><a class=next href=http://localhost:1313/blogs/jinja-template-inheritance/><span class=title>Next »</span><br><span>Jinja Templating Flask | Ep. 05</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>siddythings</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>